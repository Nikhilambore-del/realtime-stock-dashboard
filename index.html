<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Stock Analytics | Nikhil Ambore</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e293b 0%, #7c3aed 50%, #1e293b 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header h1 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #c4b5fd;
            font-size: 1.1em;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-start {
            background: #10b981;
            color: white;
        }
        
        .btn-start:hover {
            background: #059669;
            transform: translateY(-2px);
        }
        
        .btn-stop {
            background: #ef4444;
            color: white;
        }
        
        .btn-stop:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .metric-card.green {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .metric-card.purple {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        }
        
        .metric-card.orange {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
        }
        
        .stocks-panel, .chart-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .panel-title {
            color: white;
            font-size: 1.5em;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .stock-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .stock-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .stock-item.active {
            background: rgba(139, 92, 246, 0.3);
            border-color: #8b5cf6;
        }
        
        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .stock-symbol {
            font-size: 1.3em;
            font-weight: bold;
            color: white;
        }
        
        .stock-name {
            color: #c4b5fd;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .stock-price {
            font-size: 1.3em;
            font-weight: bold;
            color: white;
            text-align: right;
        }
        
        .stock-change {
            font-size: 0.9em;
            margin-top: 5px;
            text-align: right;
        }
        
        .positive {
            color: #10b981;
        }
        
        .negative {
            color: #ef4444;
        }
        
        .chart-area {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            min-height: 300px;
            color: white;
            margin-bottom: 20px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-live {
            background: #10b981;
            animation: pulse 2s infinite;
        }
        
        .status-paused {
            background: #6b7280;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .alerts-section {
            margin-top: 20px;
        }
        
        .alert-item {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 10px;
            color: white;
        }
        
        .alert-item.spike {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
        }
        
        .chart-placeholder {
            text-align: center;
            padding: 60px 20px;
            color: #c4b5fd;
        }
        
        .chart-line {
            stroke: #8b5cf6;
            stroke-width: 2;
            fill: none;
        }
        
        .social-links {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .social-link {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .social-link:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .metrics {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Real-Time Stock Analytics Platform</h1>
            <p>Data Engineering Showcase by Nikhil Ambore</p>
            <div class="social-links">
                <a href="https://github.com/Nikhilambore-del" target="_blank" class="social-link">GitHub</a>
                <a href="https://www.linkedin.com/in/nikhil-ambore-299189262" target="_blank" class="social-link">LinkedIn</a>
                <a href="mailto:nikhil.ambore@aogjob.com" class="social-link">Contact</a>
            </div>
            <div class="controls">
                <button id="startBtn" class="btn btn-start">‚ñ∂ Start Stream</button>
                <button id="stopBtn" class="btn btn-stop" style="display: none;">‚è∏ Stop Stream</button>
            </div>
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-label">Events Processed</div>
                <div class="metric-value" id="eventsProcessed">0</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">Total Volume</div>
                <div class="metric-value" id="totalVolume">$0.00M</div>
            </div>
            <div class="metric-card purple">
                <div class="metric-label">Avg Latency</div>
                <div class="metric-value" id="avgLatency">0ms</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Anomalies Detected</div>
                <div class="metric-value" id="anomalies">0</div>
            </div>
        </div>

        <div class="main-content">
            <div class="stocks-panel">
                <div class="panel-title">Live Stock Prices</div>
                <div id="stocksList"></div>
            </div>

            <div class="chart-panel">
                <div class="panel-title">
                    <span id="selectedStock">AAPL</span> - Real-Time Price Stream
                    <span style="float: right; font-size: 0.8em;">
                        <span class="status-indicator status-paused" id="statusDot"></span>
                        <span id="statusText">Paused</span>
                    </span>
                </div>
                <div class="chart-area" id="chartArea">
                    <div class="chart-placeholder">
                        Click "Start Stream" to begin real-time data processing
                    </div>
                </div>

                <div class="alerts-section">
                    <div class="panel-title">üö® Anomaly Detection Alerts</div>
                    <div id="alertsList">
                        <div style="text-align: center; padding: 40px; color: #c4b5fd;">
                            No anomalies detected yet
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const stocks = {
            AAPL: { name: 'Apple Inc.', price: 178.50, change: 0, history: [] },
            GOOGL: { name: 'Alphabet Inc.', price: 142.30, change: 0, history: [] },
            MSFT: { name: 'Microsoft Corp.', price: 378.90, change: 0, history: [] },
            TSLA: { name: 'Tesla Inc.', price: 242.80, change: 0, history: [] },
            AMZN: { name: 'Amazon.com Inc.', price: 178.25, change: 0, history: [] }
        };

        let streaming = false;
        let selectedStock = 'AAPL';
        let interval;
        let metrics = { events: 0, volume: 0, latency: 0, anomalies: 0 };
        let alerts = [];

        function renderStocks() {
            const list = document.getElementById('stocksList');
            list.innerHTML = Object.entries(stocks).map(([symbol, data]) => `
                <div class="stock-item ${symbol === selectedStock ? 'active' : ''}" onclick="selectStock('${symbol}')">
                    <div class="stock-header">
                        <div>
                            <div class="stock-symbol">${symbol}</div>
                            <div class="stock-name">${data.name}</div>
                        </div>
                        <div>
                            <div class="stock-price">$${data.price.toFixed(2)}</div>
                            <div class="stock-change ${data.change >= 0 ? 'positive' : 'negative'}">
                                ${data.change >= 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(data.change).toFixed(2)}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function selectStock(symbol) {
            selectedStock = symbol;
            document.getElementById('selectedStock').textContent = symbol;
            renderStocks();
            renderChart();
        }

        function renderChart() {
            const chartArea = document.getElementById('chartArea');
            const history = stocks[selectedStock].history;
            
            if (history.length < 2) {
                chartArea.innerHTML = '<div class="chart-placeholder">Waiting for data...</div>';
                return;
            }

            const maxPrice = Math.max(...history.map(h => h.price));
            const minPrice = Math.min(...history.map(h => h.price));
            const range = maxPrice - minPrice || 1;
            
            const points = history.map((h, i) => {
                const x = (i / (history.length - 1)) * 100;
                const y = 100 - ((h.price - minPrice) / range * 80 + 10);
                return `${x},${y}`;
            }).join(' ');

            chartArea.innerHTML = `
                <svg width="100%" height="280" style="overflow: visible;">
                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.5" />
                            <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:0" />
                        </linearGradient>
                    </defs>
                    <polyline points="${points}" style="stroke:#8b5cf6;stroke-width:3;fill:none;" />
                    <polygon points="${points} 100,100 0,100" style="fill:url(#grad);" />
                </svg>
                <div style="color: white; margin-top: 10px; text-align: center;">
                    Current: $${stocks[selectedStock].price.toFixed(2)} | 
                    High: $${maxPrice.toFixed(2)} | 
                    Low: $${minPrice.toFixed(2)}
                </div>
            `;
        }

        function updateData() {
            const time = new Date().toLocaleTimeString();
            
            Object.keys(stocks).forEach(symbol => {
                const changePercent = (Math.random() - 0.5) * 0.04;
                const priceChange = stocks[symbol].price * changePercent;
                stocks[symbol].price += priceChange;
                stocks[symbol].change = priceChange;
                stocks[symbol].history.push({ time, price: stocks[symbol].price });
                if (stocks[symbol].history.length > 30) stocks[symbol].history.shift();

                if (Math.abs(changePercent) > 0.015) {
                    metrics.anomalies++;
                    alerts.unshift({
                        symbol,
                        type: changePercent > 0 ? 'spike' : 'drop',
                        change: (changePercent * 100).toFixed(2),
                        time
                    });
                    if (alerts.length > 5) alerts.pop();
                }
            });

            metrics.events += 5;
            metrics.volume += Math.random() * 100000;
            metrics.latency = Math.floor(Math.random() * 50) + 10;

            document.getElementById('eventsProcessed').textContent = metrics.events.toLocaleString();
            document.getElementById('totalVolume').textContent = `$${(metrics.volume / 1000000).toFixed(2)}M`;
            document.getElementById('avgLatency').textContent = `${metrics.latency}ms`;
            document.getElementById('anomalies').textContent = metrics.anomalies;

            renderStocks();
            renderChart();
            renderAlerts();
        }

        function renderAlerts() {
            const alertsList = document.getElementById('alertsList');
            if (alerts.length === 0) {
                alertsList.innerHTML = '<div style="text-align: center; padding: 40px; color: #c4b5fd;">No anomalies detected yet</div>';
                return;
            }
            
            alertsList.innerHTML = alerts.map(alert => `
                <div class="alert-item ${alert.type}">
                    <strong>${alert.symbol}</strong> ${alert.type === 'spike' ? 'üöÄ Price Spike' : 'üìâ Price Drop'}
                    <span style="float: right;">
                        <strong style="color: ${alert.type === 'spike' ? '#10b981' : '#ef4444'}">
                            ${alert.change > 0 ? '+' : ''}${alert.change}%
                        </strong>
                    </span>
                    <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">${alert.time}</div>
                </div>
            `).join('');
        }

        document.getElementById('startBtn').addEventListener('click', () => {
            streaming = true;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'block';
            document.getElementById('statusDot').className = 'status-indicator status-live';
            document.getElementById('statusText').textContent = 'Live';
            
            interval = setInterval(updateData, 1000);
        });

        document.getElementById('stopBtn').addEventListener('click', () => {
            streaming = false;
            document.getElementById('startBtn').style.display = 'block';
            document.getElementById('stopBtn').style.display = 'none';
            document.getElementById('statusDot').className = 'status-indicator status-paused';
            document.getElementById('statusText').textContent = 'Paused';
            
            clearInterval(interval);
        });

        // Initial render
        renderStocks();
        renderChart();
    </script>
</body>
</html>